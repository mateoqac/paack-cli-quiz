#!/usr/bin/env ruby
require 'thor'
require './lib/el_tiempo'

if ARGV[0] && ARGV[1].nil?
  STDOUT.puts "Please write a city name (between quotes) after the command name"
  return
end
case ARGV[0]
  when "-today"
    STDOUT.puts "Today temperature at #{ARGV[1]} is:"
    ARGV[0]='today'
    Eltiempo.start(ARGV)
  when "-av_min"
    ARGV[0]='av_min'
    STDOUT.puts "Average minimum temprature this week at #{ARGV[1]} is:"
    Eltiempo.start(ARGV)
  when "-av_max"
    ARGV[0]='av_max'
    STDOUT.puts "Average maximum temprature this week at #{ARGV[1]} is:"
    Eltiempo.start(ARGV)
  else
    STDOUT.puts <<-EOF
Please provide command name
Usage:
  bin/eltiempo -today 'CITY', "Displays today\'s temprature at the given city"
  bin/eltiempo -av_min 'CITY', "Displays the average of the maximum temprature for the week at the given city"
  bin/eltiempo -av_max 'CITY', "Displays the average of the minimum temprature for the week at the given city"
EOF
end
